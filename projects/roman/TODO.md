# Roman Numerals - 2025-09-20

## Goals

- [ ] Create TypeScript roman numeral to number converter with full test coverage
  - [x] Task 1: Test infrastructure and single symbols
    - **Directories to create:** src/roman-numerals/domain, test/roman-numerals
    - **Files to create:** Test file first (TDD approach), then implementation
    - **Test coverage:** 7 tests for single symbols (I=1, V=5, X=10, L=50, C=100, D=500, M=1000)
    - **Implementation:** Map-based lookup for symbol values
    - **Exports:** romanToNumber from src/index.ts
    - **Validation:** npm test must show 7 passing tests
  - [ ] Task 2: Additive notation support (NEXT TASK)
    - **Test coverage:** Add 10 tests for additive combinations
    - **Test cases:** II=2, III=3, VI=6, VII=7, VIII=8, XI=11, XV=15, XX=20, XXX=30, LX=60
    - **Implementation note:** Existing loop from Task 1 should already handle this
    - **Validation:** npm test must show 17 passing tests total
  - [ ] Task 3: Subtractive notation and complex numbers
    - **Test coverage:** Add 11 tests for subtractive patterns and complex numbers
    - **Subtractive cases:** IV=4, IX=9, XL=40, XC=90, CD=400, CM=900
    - **Complex cases:** XIV=14, XLII=42, MCMXCIV=1994, MMXXIII=2023, MMMCMXCIX=3999
    - **Implementation:** Check 2-char patterns before single chars, use Map for lookups
    - **Validation:** npm test must show 28 passing tests total
    - **Quick verify:** MCMXCIV should return 1994
  - [ ] Task 4: Input validation and error handling
    - **Create validation module:** src/roman-numerals/validation.ts
    - **Validation rules:**
      - Empty string check (PRIORITY - currently missing)
      - Valid characters only (IVXLCDM)
      - No 4+ consecutive same symbols
      - V, L, D cannot be repeated
    - **Update main function:** Add uppercase normalization and validation call (PRIORITY - case sensitivity issue)
    - **Test coverage:** Add 5+ error handling tests
    - **Test cases:** Empty string, invalid chars, IIII, VV, lowercase input
    - **Validation:** npm test (33+ tests), npm run lint (0 errors), npm run test:ts
  - [ ] Task 5: Final quality check
    - **Run all validation commands:** npm test, npm run lint, npm run test:ts
    - **Success criteria:**
      - Add Missing JSDoc documentation
      - All tests passing (33+ tests)
      - Zero lint errors
      - Zero TypeScript errors
      - romanToNumber('MCMXCIV') returns 1994
      - romanToNumber('') throws error
      - romanToNumber('xiv') returns 14
